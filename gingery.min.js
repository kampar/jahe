!function(){function t(t,n){function i(n,i){var f=c(n,i),v=f[0],g=f[1],d=v*v+g*g;if(d>u){var l=Math.sqrt(d),p=Math.atan2(g,v),m=s*Math.round(p/s),b=p-m,q=t*Math.cos(b),w=(t*Math.sin(b)-b*Math.sin(q))/(h-q),y=a(b,w),E=(o-t)/r(y,q,o,e);v=l;var S,j=50;do v-=S=(t+r(y,q,v,e)*E-l)/(y(v)*E);while(Math.abs(S)>M&&--j>0);g=b*Math.sin(v),h>v&&(g-=w*(v-h));var k=Math.sin(m),z=Math.cos(m);f[0]=v*z-g*k,f[1]=v*k+g*z}return f}var s=2*o/n,u=t*t;return i.invert=function(n,i){var f=n*n+i*i;if(f>u){var v=Math.sqrt(f),g=Math.atan2(i,n),d=s*Math.round(g/s),l=g-d,n=v*Math.cos(l);i=v*Math.sin(l);for(var p=n-h,m=Math.sin(n),b=i/m,q=h>n?1/0:0,w=10;;){var y=t*Math.sin(b),E=t*Math.cos(b),S=Math.sin(E),j=h-E,k=(y-b*S)/j,z=a(b,k);if(Math.abs(q)<M||!--w)break;b-=q=(b*m-k*p-i)/(m-2*p*(j*(E+b*y*Math.cos(E)-S)-y*(y-b*S))/(j*j))}v=t+r(z,E,n,e)*(o-t)/r(z,E,o,e),g=d+b,n=v*Math.cos(g),i=v*Math.sin(g)}return c.invert(n,i)},i}function a(t,a){return function(n){var r=t*Math.cos(n);return h>n&&(r-=a),Math.sqrt(1+r*r)}}function n(){var a=6,n=30*i,r=Math.cos(n),h=Math.sin(n),M=u(t),e=M(n,a),c=e.stream,f=.01,v=-Math.cos(f*i),g=Math.sin(f*i);return e.radius=function(t){return arguments.length?(r=Math.cos(n=t*i),h=Math.sin(n),M(n,a)):n*s},e.lobes=function(t){return arguments.length?M(n,a=+t):a},e.stream=function(t){var n=e.rotate(),i=c(t),M=(e.rotate([0,0]),c(t));return e.rotate(n),i.sphere=function(){M.polygonStart(),M.lineStart();for(var t=0,n=2*o/a,i=0;a>t;++t,i-=n)M.point(Math.atan2(g*Math.cos(i),v)*s,Math.asin(g*Math.sin(i))*s),M.point(Math.atan2(h*Math.cos(i-n/2),r)*s,Math.asin(h*Math.sin(i-n/2))*s);M.lineEnd(),M.polygonEnd()},i},e}function r(t,a,n,r){for(var o=(n-a)/r,h=t(a)+t(n),i=1,s=a;r>i;++i)h+=2*t(s+=o);return.5*h*o}var o=Math.PI,h=.5*o,i=o/180,s=180/o,M=1e-6,e=50,u=d3.geo.projectionMutator,c=d3.geo.azimuthalEquidistant.raw;(d3.geo.gingery=n).raw=t}();